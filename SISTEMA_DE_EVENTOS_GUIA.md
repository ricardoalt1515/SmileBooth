# ğŸ“… SISTEMA DE EVENTOS/PRESETS - GUÃA COMPLETA

**Fecha:** 9 de Noviembre 2025  
**VersiÃ³n:** 1.0  
**Feature:** GestiÃ³n de Presets para Eventos

---

## ğŸ¯ **Â¿QUÃ‰ ES EL SISTEMA DE EVENTOS?**

El Sistema de Eventos es el **feature #1 mÃ¡s importante** para usar tu photobooth profesionalmente. Te permite:

1. **Guardar configuraciones completas** para diferentes tipos de eventos
2. **Cambiar de un evento a otro en 1 click** (sin ajustar sliders manualmente)
3. **Drag & drop de diseÃ±os de Canva** directamente en el evento
4. **Duplicar eventos** para crear variaciones rÃ¡pidamente
5. **Ver claramente quÃ© evento estÃ¡ activo** en tiempo real

---

## ğŸš€ **CASOS DE USO REALES**

### **Escenario 1: Eventos Privados (Boda)**
```
ğŸ“… Evento: "Boda MarÃ­a & Juan"
ğŸ“¸ Fotos: 4
â±ï¸  Countdown: 5s
ğŸ¨ DiseÃ±o: boda-elegante-rosa.png
ğŸ’’ Tipo: Boda

âœ… Click en "Activar" â†’ Listo para el evento
```

### **Escenario 2: Eventos PÃºblicos (Centro Comercial)**
```
ğŸ“… Evento: "Navidad Mall 2025"
ğŸ“¸ Fotos: 3
â±ï¸  Countdown: 3s (rÃ¡pido para filas)
ğŸ¨ DiseÃ±o: navidad-generico.png
ğŸŒŸ Tipo: PÃºblico

âœ… Este queda como tu "Base" â†’ Siempre disponible
```

### **Escenario 3: Cambio RÃ¡pido Entre Eventos**
```
10:00 AM â†’ Boda (4 fotos, diseÃ±o elegante)
       â†“ 1 click para cambiar
3:00 PM  â†’ XV AÃ±os (6 fotos, diseÃ±o colorido)
       â†“ 1 click para cambiar
7:00 PM  â†’ CumpleaÃ±os (3 fotos, diseÃ±o infantil)
```

**Resultado:** En lugar de 10 minutos ajustando settings â†’ **5 segundos**

---

## ğŸ“– **CÃ“MO USAR EL SISTEMA**

### **1. Acceder a la GestiÃ³n de Eventos**

1. Abre la aplicaciÃ³n
2. Presiona **`Cmd + S`** (o click en el icono de settings en StaffDock)
3. VerÃ¡s **4 pestaÃ±as** en la parte superior:
   - **ğŸ“… Eventos** â† La nueva pestaÃ±a (abre por defecto)
   - âš™ï¸ General
   - ğŸ¨ DiseÃ±os
   - ğŸ–¨ï¸ ImpresiÃ³n

---

### **2. Crear tu Primer Evento**

#### **Paso 1: Click en "Nuevo Evento"**
```
[+ Nuevo Evento] â† BotÃ³n en la esquina superior derecha
```

#### **Paso 2: Configurar el Evento**
Un diÃ¡logo se abrirÃ¡ con estos campos:

```
Nombre del Evento*:     [Boda MarÃ­a & Juan          ]
Tipo de Evento:         [ğŸ’’ Boda                    â–¼]
Fecha del Evento:       [2025-11-15                 ğŸ“…]

--- CONFIGURACIÃ“N DE CAPTURA ---
Fotos por sesiÃ³n:       [4                          â–¼]
Countdown (segundos):   [5                          â–¼]
Auto-reset (segundos):  [30                         â–¼]

--- AUDIO ---
[âœ“] Audio activado
Velocidad voz:          [1.0] â”â”â”â”â”â”â—â”â”â”â” [2.0]
Tono voz:               [1.0] â”â”â”â”â”â”â—â”â”â”â” [2.0]

--- DISEÃ‘O ---
DiseÃ±o de Canva:        [Arrastra tu diseÃ±o aquÃ­    ]
                        o click para seleccionar

--- INFORMACIÃ“N DEL CLIENTE ---
Cliente:                [MarÃ­a GarcÃ­a               ]
Contacto:               [maria@email.com            ]
Notas:                  [Boda elegante, tema rosa   ]
                        [Imprimir 200 tiras         ]

[Cancelar]  [Guardar Evento]
```

#### **Paso 3: Drag & Drop del DiseÃ±o de Canva**

**OpciÃ³n A - Arrastrar:**
1. Abre tu carpeta de diseÃ±os de Canva
2. Arrastra el archivo `.png` o `.jpg` directamente a la zona de "DiseÃ±o"
3. Â¡Listo! El diseÃ±o se sube automÃ¡ticamente

**OpciÃ³n B - Seleccionar:**
1. Click en "o click para seleccionar"
2. Navega a tu carpeta de diseÃ±os
3. Selecciona el archivo
4. Â¡Listo!

---

### **3. Activar un Evento**

Una vez guardado, verÃ¡s tu evento en la lista:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Boda MarÃ­a & Juan            ğŸ’’ Boda      â•‘
â•‘  ğŸ“… 15 de noviembre de 2025                â•‘
â•‘                                            â•‘
â•‘  4 fotos  â€¢  5s count  â€¢  ğŸ¨ diseÃ±o       â•‘
â•‘                                            â•‘
â•‘  [â–¶ Activar]  [âœï¸]  [ğŸ“‹]  [ğŸ—‘ï¸]            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Click en "â–¶ Activar"**

```
âœ… Â¡Evento "Boda MarÃ­a & Juan" activado!
```

Ahora el evento se moverÃ¡ arriba con un borde verde y badge "ACTIVO":

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ“  Boda MarÃ­a & Juan        [ğŸŸ¢ ACTIVO]  â•‘
â•‘  ğŸ’’ Boda â€¢ 15 de noviembre de 2025        â•‘
â•‘                                            â•‘
â•‘  4        5s       30s       ğŸ¨           â•‘
â•‘  fotos    count    reset     diseÃ±o       â•‘
â•‘                                            â•‘
â•‘  ğŸ“ Boda elegante, tema rosa              â•‘
â•‘     Imprimir 200 tiras                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Todos los settings se aplicaron automÃ¡ticamente:**
- âœ… Fotos: 4
- âœ… Countdown: 5s
- âœ… DiseÃ±o: boda-elegante-rosa.png
- âœ… Audio configurado

---

### **4. Duplicar un Evento**

Â¿Tienes una boda similar la prÃ³xima semana?

1. Click en el botÃ³n **ğŸ“‹ Copiar**
2. Se crea: "Boda MarÃ­a & Juan (Copia)"
3. Edita el nombre y la fecha
4. Â¡Listo! Nueva configuraciÃ³n en 10 segundos

---

### **5. Evento Base (Por Defecto)**

El sistema crea automÃ¡ticamente un **"Evento PÃºblico (Base)"**:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  â­ Evento PÃºblico (Base)    [ğŸŒŸ Base]    â•‘
â•‘  ğŸŒŸ PÃºblico                                â•‘
â•‘                                            â•‘
â•‘  4 fotos  â€¢  5s count  â€¢  Sin diseÃ±o      â•‘
â•‘                                            â•‘
â•‘  [â–¶ Activar]  [âœï¸]  [ğŸ“‹]                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Â¿Para quÃ© sirve?**
- Tu configuraciÃ³n "genÃ©rica" para eventos walk-up
- No tiene diseÃ±o personalizado (o un diseÃ±o neutro)
- Siempre disponible, no se puede eliminar
- Ideal para centros comerciales, ferias, etc.

---

## ğŸ¨ **TIPOS DE EVENTOS**

El sistema soporta 6 tipos de eventos con iconos distintivos:

| Tipo         | Icono | Color      | Uso                              |
|--------------|-------|------------|----------------------------------|
| Boda         | ğŸ’’    | Rosa       | Bodas, aniversarios              |
| CumpleaÃ±os   | ğŸ‚    | Amarillo   | CumpleaÃ±os, fiestas infantiles   |
| Fiesta       | ğŸ‰    | Morado     | Fiestas generales, despedidas    |
| Corporativo  | ğŸ¢    | Azul       | Eventos de empresa, conferencias |
| PÃºblico      | ğŸŒŸ    | Verde      | Centros comerciales, ferias      |
| Personalizado| âš™ï¸    | Gris       | Eventos especiales, otros        |

---

## âš¡ **FLUJO TÃPICO DE TRABAJO**

### **Setup Inicial (Una vez)**
```
1. Crear evento "Base PÃºblico" (sin diseÃ±o)
2. Crear plantillas para cada tipo:
   - "Plantilla Boda"
   - "Plantilla XV AÃ±os"
   - "Plantilla Corporativo"
3. Estos quedan guardados para siempre
```

### **PreparaciÃ³n de Evento Privado**
```
1. Cliente te contrata para una boda
2. En Canva, personalizas tu plantilla boda:
   - Nombres de los novios
   - Fecha
   - Colores del tema
3. Exportas el diseÃ±o: "boda-maria-juan.png"
4. En la app:
   - Duplicas "Plantilla Boda"
   - Renombras a "Boda MarÃ­a & Juan"
   - Drag & drop del diseÃ±o
   - Guardas
5. DÃ­a del evento:
   - 1 click en "Activar"
   - Â¡Listo para capturar!
```

**Tiempo total:** 2 minutos (vs 15 minutos ajustando settings manualmente)

---

## ğŸ”§ **ARQUITECTURA TÃ‰CNICA**

### **Backend (FastAPI)**

**Archivos:**
- `backend/app/models/preset.py` - Modelo de datos
- `backend/app/api/presets.py` - Endpoints CRUD
- `backend/data/presets.json` - Persistencia

**Endpoints:**
```python
GET    /api/presets              # Listar todos
GET    /api/presets/{id}         # Obtener uno
POST   /api/presets              # Crear nuevo
PUT    /api/presets/{id}         # Actualizar
DELETE /api/presets/{id}         # Eliminar
POST   /api/presets/{id}/activate    # Activar
POST   /api/presets/{id}/duplicate   # Duplicar
```

**LÃ³gica de ActivaciÃ³n:**
```python
def activate_preset(preset_id):
    1. Buscar el preset
    2. Desactivar preset anterior
    3. Activar nuevo preset
    4. Aplicar configuraciÃ³n a settings.json
    5. Retornar preset activado
```

---

### **Frontend (React + shadcn/ui)**

**Archivos:**
- `frontend/src/types/preset.ts` - TypeScript tipos
- `frontend/src/components/EventsManager.tsx` - UI principal
- `frontend/src/services/api.ts` - Llamadas al backend

**Componentes:**
```tsx
<EventsManager>
  â”œâ”€â”€ Header con "Nuevo Evento"
  â”œâ”€â”€ Card de Evento Activo (destacado)
  â”œâ”€â”€ Grid de Eventos Guardados
  â”‚   â”œâ”€â”€ PresetCard (con acciones)
  â”‚   â”‚   â”œâ”€â”€ Activar
  â”‚   â”‚   â”œâ”€â”€ Editar
  â”‚   â”‚   â”œâ”€â”€ Duplicar
  â”‚   â”‚   â””â”€â”€ Eliminar
  â”‚   â””â”€â”€ ...
  â””â”€â”€ Tip de Drag & Drop
</EventsManager>
```

---

## ğŸ“Š **DATOS GUARDADOS POR EVENTO**

Cada evento guarda:

```json
{
  "id": "abc123",
  "name": "Boda MarÃ­a & Juan",
  "event_type": "wedding",
  "event_date": "2025-11-15",
  
  // Captura
  "photos_to_take": 4,
  "countdown_seconds": 5,
  "auto_reset_seconds": 30,
  
  // Audio
  "audio_enabled": true,
  "voice_rate": 1.0,
  "voice_pitch": 1.0,
  "voice_volume": 1.0,
  
  // DiseÃ±o
  "design_id": "design_xyz",
  "design_name": "boda-elegante-rosa",
  "design_path": "/data/designs/design_xyz.png",
  "design_preview_url": "/api/designs/design_xyz.png",
  
  // Metadata
  "is_active": true,
  "is_default": false,
  "created_at": "2025-11-09T10:00:00",
  "updated_at": "2025-11-09T10:00:00",
  
  // Cliente
  "notes": "Boda elegante, tema rosa. Imprimir 200 tiras",
  "client_name": "MarÃ­a GarcÃ­a",
  "client_contact": "maria@email.com"
}
```

---

## ğŸ’¡ **TIPS & MEJORES PRÃCTICAS**

### **1. OrganizaciÃ³n de DiseÃ±os**
```
ğŸ“ Mis DiseÃ±os de Canva/
  â”œâ”€â”€ ğŸ“ Bodas/
  â”‚   â”œâ”€â”€ plantilla-boda-elegante.png
  â”‚   â”œâ”€â”€ plantilla-boda-rustica.png
  â”‚   â””â”€â”€ plantilla-boda-moderna.png
  â”œâ”€â”€ ğŸ“ XV AÃ±os/
  â”‚   â”œâ”€â”€ plantilla-xv-rosa.png
  â”‚   â””â”€â”€ plantilla-xv-azul.png
  â”œâ”€â”€ ğŸ“ Corporativos/
  â”‚   â””â”€â”€ plantilla-corporativo-simple.png
  â””â”€â”€ ğŸ“ Publico/
      â””â”€â”€ base-sin-diseno.png
```

### **2. Nombra Eventos Claramente**
```
âœ… BIEN:
- "Boda MarÃ­a & Juan - 15 Nov"
- "XV AÃ±os Ana - Casa de Eventos"
- "Corporativo TechCorp - Anual"

âŒ MAL:
- "Evento1"
- "Boda"
- "Test"
```

### **3. Usa el Campo de Notas**
```
Ejemplo de notas Ãºtiles:
"""
Boda elegante, tema rosa y dorado
Ceremonia: 6pm | RecepciÃ³n: 8pm
Imprimir: 200 tiras (estimado 100 sesiones)
Cliente quiere fotos extras para Ã¡lbum
Contacto coordinadora: Laura 555-1234
"""
```

### **4. Duplica en Lugar de Crear Desde Cero**
- Si tienes un evento similar, duplÃ­calo
- Cambia solo lo necesario (nombre, fecha, diseÃ±o)
- Ahorra tiempo y mantiene consistencia

---

## ğŸ¬ **PRÃ“XIMOS PASOS**

Ahora que tienes el Sistema de Eventos funcionando:

### **TODO PENDIENTE:**
1. âœ… **Crear diÃ¡logo para crear/editar eventos** (con drag & drop)
2. âœ… **Agregar indicador de evento activo en UnifiedBoothScreen**
3. â³ **Agregar filtros/bÃºsqueda en lista de eventos**
4. â³ **EstadÃ­sticas por evento** (fotos capturadas, sesiones, etc.)
5. â³ **Exportar/importar eventos** (para compartir entre equipos)

---

## ğŸ› **TROUBLESHOOTING**

### **Problema: No puedo eliminar un evento**
**SoluciÃ³n:** 
- Solo puedes eliminar eventos **inactivos**
- No puedes eliminar el **evento base** (tiene badge â­)
- Activa otro evento primero, luego elimina

### **Problema: Mi diseÃ±o no se muestra**
**SoluciÃ³n:**
1. Verifica que el archivo sea `.png` o `.jpg`
2. Verifica que el tamaÃ±o sea razonable (<10MB)
3. Intenta arrastrar de nuevo el archivo

### **Problema: Los settings no cambian al activar**
**SoluciÃ³n:**
1. Verifica que el backend estÃ© corriendo
2. Abre DevTools y busca errores
3. Reinicia la aplicaciÃ³n

---

## ğŸ“ **SOPORTE**

Â¿Necesitas ayuda con el Sistema de Eventos?

1. **Revisa este documento primero**
2. **Verifica logs del backend:** `backend/logs/`
3. **Verifica DevTools** del navegador
4. **Contacta al desarrollador**

---

**Â¡Disfruta tu sistema profesional de gestiÃ³n de eventos!** ğŸ‰
